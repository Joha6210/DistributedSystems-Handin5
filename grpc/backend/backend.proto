syntax = "proto3";
option go_package = ".";

import "google/protobuf/empty.proto";

service Backend {
   rpc TryToUpdateBid (Amount) returns (Ack);
   rpc Election (google.protobuf.Empty) returns (Answer);
   rpc Victory (VictoryMessage) returns (Ack);
}

enum Ack_types {
    FAIL = 0;
    SUCCESS = 1;
    EXCEPTION = 2;
    OK = 3;
}

message Amount{
    int32 clock = 2; //Logical Lamport clock
    int32 amount = 3; //Bid amount
}

message Ack{
    int32 clock = 2; //Logical Lamport clock
    Ack_types ack = 3;
}

message Answer{
    string id = 1;
    int32 clock = 2;
}

message VictoryMessage{
    string id = 1;
    int32 clock = 2;
}
